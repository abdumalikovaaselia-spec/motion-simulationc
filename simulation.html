<!DOCTYPE html>
<html lang="kk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ú–µ—Ö–∞–Ω–∏–∫–∞–ª—ã“õ “õ–æ–∑“ì–∞–ª—ã—Å —Å–∏–º—É–ª—è—Ü–∏—è—Å—ã</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:ital,wght@0,300;0,400;0,600;1,400&display=swap');

  :root {
    --bg: #05080f;
    --panel: #0a1020;
    --border: #1a2a4a;
    --accent: #00d4ff;
    --accent2: #ff6b35;
    --accent3: #7fff00;
    --text: #c8e0ff;
    --dim: #4a6080;
    --glow: 0 0 20px rgba(0,212,255,0.4);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Exo 2', sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Animated background grid */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: 
      linear-gradient(rgba(0,212,255,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,212,255,0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 0;
  }

  .container {
    position: relative;
    z-index: 1;
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
  }

  header {
    text-align: center;
    padding: 30px 0 20px;
  }

  header h1 {
    font-family: 'Orbitron', monospace;
    font-size: clamp(1.2rem, 3vw, 2rem);
    font-weight: 900;
    color: var(--accent);
    text-shadow: var(--glow);
    letter-spacing: 2px;
    text-transform: uppercase;
  }

  header p {
    color: var(--dim);
    margin-top: 8px;
    font-size: 0.9rem;
    font-style: italic;
  }

  /* Tab navigation */
  .tabs {
    display: flex;
    gap: 4px;
    margin: 20px 0;
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 6px;
  }

  .tab {
    flex: 1;
    padding: 10px 8px;
    border: none;
    background: transparent;
    color: var(--dim);
    font-family: 'Exo 2', sans-serif;
    font-size: 0.78rem;
    font-weight: 600;
    cursor: pointer;
    border-radius: 8px;
    transition: all 0.3s;
    text-align: center;
  }

  .tab.active {
    background: rgba(0,212,255,0.15);
    color: var(--accent);
    box-shadow: inset 0 0 0 1px rgba(0,212,255,0.4);
  }

  .tab:hover:not(.active) {
    color: var(--text);
    background: rgba(255,255,255,0.04);
  }

  /* Section panels */
  .section {
    display: none;
  }
  .section.active {
    display: block;
  }

  .panel {
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 16px;
  }

  .panel-title {
    font-family: 'Orbitron', monospace;
    font-size: 0.85rem;
    color: var(--accent);
    letter-spacing: 1px;
    margin-bottom: 14px;
    text-transform: uppercase;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .panel-title::before {
    content: '';
    width: 3px;
    height: 16px;
    background: var(--accent);
    border-radius: 2px;
    box-shadow: var(--glow);
  }

  /* SIMULATION TRACK */
  .track-container {
    background: rgba(0,0,0,0.4);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 16px;
    margin-bottom: 16px;
    overflow: hidden;
  }

  .track {
    position: relative;
    height: 80px;
    background: linear-gradient(180deg, rgba(0,212,255,0.03) 0%, rgba(0,212,255,0.08) 100%);
    border-radius: 8px;
    overflow: hidden;
  }

  .track-road {
    position: absolute;
    bottom: 20px;
    left: 0; right: 0;
    height: 2px;
    background: var(--dim);
  }

  .track-marks {
    position: absolute;
    bottom: 8px;
    left: 0; right: 0;
    display: flex;
    justify-content: space-between;
    padding: 0 10px;
    font-size: 0.65rem;
    color: var(--dim);
    font-family: 'Orbitron', monospace;
  }

  .car {
    position: absolute;
    bottom: 22px;
    width: 50px;
    height: 26px;
    transition: none;
  }

  .car-body {
    position: absolute;
    bottom: 0;
    left: 5px;
    right: 5px;
    height: 18px;
    background: linear-gradient(135deg, var(--accent2), #ff4500);
    border-radius: 4px 4px 2px 2px;
    box-shadow: 0 0 15px rgba(255,107,53,0.5);
  }

  .car-top {
    position: absolute;
    bottom: 12px;
    left: 14px;
    right: 14px;
    height: 10px;
    background: rgba(0,212,255,0.3);
    border-radius: 3px 3px 0 0;
    border: 1px solid rgba(0,212,255,0.5);
  }

  .wheel {
    position: absolute;
    bottom: -5px;
    width: 10px;
    height: 10px;
    background: #333;
    border-radius: 50%;
    border: 2px solid #666;
  }
  .wheel-f { right: 6px; }
  .wheel-b { left: 6px; }

  /* Controls */
  .controls {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 16px;
  }

  .control-group label {
    display: block;
    font-size: 0.75rem;
    color: var(--dim);
    margin-bottom: 6px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .slider-row {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  input[type=range] {
    flex: 1;
    -webkit-appearance: none;
    height: 4px;
    background: var(--border);
    border-radius: 2px;
    outline: none;
  }

  input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: var(--accent);
    cursor: pointer;
    box-shadow: 0 0 8px rgba(0,212,255,0.6);
  }

  .val-display {
    font-family: 'Orbitron', monospace;
    font-size: 0.8rem;
    color: var(--accent);
    min-width: 55px;
    text-align: right;
  }

  /* Buttons */
  .btn-row {
    display: flex;
    gap: 10px;
    margin-bottom: 16px;
  }

  .btn {
    flex: 1;
    padding: 12px;
    border: 1px solid var(--border);
    background: rgba(0,212,255,0.08);
    color: var(--accent);
    font-family: 'Orbitron', monospace;
    font-size: 0.75rem;
    letter-spacing: 1px;
    cursor: pointer;
    border-radius: 8px;
    transition: all 0.2s;
    text-transform: uppercase;
  }

  .btn:hover {
    background: rgba(0,212,255,0.2);
    box-shadow: var(--glow);
  }

  .btn.stop {
    color: var(--accent2);
    border-color: rgba(255,107,53,0.3);
    background: rgba(255,107,53,0.08);
  }
  .btn.stop:hover {
    background: rgba(255,107,53,0.2);
  }

  .btn.reset {
    color: var(--dim);
  }

  /* Live stats */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    margin-bottom: 16px;
  }

  .stat-card {
    background: rgba(0,0,0,0.3);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 12px;
    text-align: center;
  }

  .stat-label {
    font-size: 0.65rem;
    color: var(--dim);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 4px;
  }

  .stat-value {
    font-family: 'Orbitron', monospace;
    font-size: 1.1rem;
    font-weight: 700;
  }

  .stat-unit {
    font-size: 0.6rem;
    color: var(--dim);
    margin-top: 2px;
  }

  .sv-x { color: var(--accent); }
  .sv-v { color: var(--accent3); }
  .sv-a { color: var(--accent2); }

  /* CANVAS for graphs */
  canvas {
    width: 100%;
    border-radius: 8px;
    display: block;
    background: rgba(0,0,0,0.3);
  }

  .graph-wrap {
    margin-bottom: 12px;
  }

  .graph-label {
    font-size: 0.7rem;
    color: var(--dim);
    margin-bottom: 6px;
    font-family: 'Orbitron', monospace;
    letter-spacing: 1px;
  }

  /* THEORY section */
  .theory-card {
    background: rgba(0,0,0,0.3);
    border-left: 3px solid var(--accent);
    border-radius: 0 8px 8px 0;
    padding: 16px;
    margin-bottom: 12px;
  }

  .theory-card h3 {
    font-family: 'Orbitron', monospace;
    font-size: 0.85rem;
    color: var(--accent);
    margin-bottom: 10px;
  }

  .theory-card p {
    font-size: 0.85rem;
    line-height: 1.7;
    color: var(--text);
  }

  .formula-box {
    background: rgba(0,212,255,0.06);
    border: 1px solid rgba(0,212,255,0.2);
    border-radius: 8px;
    padding: 12px 16px;
    margin: 10px 0;
    font-family: 'Orbitron', monospace;
    font-size: 0.9rem;
    color: var(--accent);
    text-align: center;
    letter-spacing: 1px;
  }

  .key-point {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    margin: 8px 0;
    font-size: 0.82rem;
  }

  .key-point .dot {
    min-width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--accent);
    margin-top: 5px;
    box-shadow: var(--glow);
  }

  /* TASKS section */
  .task-card {
    background: rgba(0,0,0,0.3);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 18px;
    margin-bottom: 14px;
    transition: border-color 0.3s;
  }

  .task-card:hover {
    border-color: rgba(0,212,255,0.3);
  }

  .task-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
  }

  .task-num {
    font-family: 'Orbitron', monospace;
    font-size: 0.75rem;
    color: var(--accent2);
    letter-spacing: 1px;
  }

  .difficulty {
    font-size: 0.65rem;
    padding: 3px 10px;
    border-radius: 20px;
    letter-spacing: 0.5px;
  }

  .easy { background: rgba(127,255,0,0.1); color: var(--accent3); border: 1px solid rgba(127,255,0,0.3); }
  .med { background: rgba(255,212,0,0.1); color: #ffd400; border: 1px solid rgba(255,212,0,0.3); }
  .hard { background: rgba(255,107,53,0.1); color: var(--accent2); border: 1px solid rgba(255,107,53,0.3); }

  .task-text {
    font-size: 0.85rem;
    line-height: 1.7;
    margin-bottom: 14px;
  }

  .task-questions {
    font-size: 0.8rem;
    color: var(--accent);
  }

  .task-questions li {
    margin: 5px 0 5px 16px;
    color: var(--text);
  }

  .answer-toggle {
    background: none;
    border: 1px solid var(--border);
    color: var(--dim);
    font-family: 'Exo 2', sans-serif;
    font-size: 0.75rem;
    padding: 6px 14px;
    border-radius: 6px;
    cursor: pointer;
    margin-top: 10px;
    transition: all 0.2s;
  }

  .answer-toggle:hover {
    color: var(--accent);
    border-color: var(--accent);
  }

  .answer-box {
    display: none;
    margin-top: 12px;
    background: rgba(0,212,255,0.04);
    border: 1px solid rgba(0,212,255,0.2);
    border-radius: 8px;
    padding: 14px;
    font-size: 0.8rem;
    line-height: 1.8;
  }

  .answer-box.visible {
    display: block;
  }

  .answer-box strong {
    color: var(--accent3);
  }

  /* Mode indicator */
  .mode-indicator {
    text-align: center;
    font-family: 'Orbitron', monospace;
    font-size: 0.7rem;
    color: var(--accent2);
    padding: 6px;
    background: rgba(255,107,53,0.08);
    border-radius: 6px;
    margin-bottom: 12px;
    letter-spacing: 1px;
  }

  /* Progress bar for simulation */
  .progress-bar {
    height: 3px;
    background: var(--border);
    border-radius: 2px;
    overflow: hidden;
    margin-bottom: 8px;
  }

  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--accent), var(--accent3));
    border-radius: 2px;
    transition: width 0.1s linear;
    box-shadow: 0 0 8px rgba(0,212,255,0.5);
  }

  .graph-legend {
    display: flex;
    gap: 16px;
    margin-bottom: 8px;
    flex-wrap: wrap;
  }
  .legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.7rem;
    color: var(--dim);
  }
  .legend-dot {
    width: 20px;
    height: 3px;
    border-radius: 2px;
  }

</style>
</head>
<body>
<div class="container">

  <header>
    <h1>‚ö° –ú–µ—Ö–∞–Ω–∏–∫–∞–ª—ã“õ “õ–æ–∑“ì–∞–ª—ã—Å</h1>
    <p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ —Å–∏–º—É–ª—è—Ü–∏—è –∂”ô–Ω–µ –≥—Ä–∞—Ñ–∏–∫—Ç–µ—Ä ‚Ä¢ –§–∏–∑–∏–∫–∞ —Å–∞–±–∞“ì—ã</p>
  </header>

  <div class="tabs">
    <button class="tab active" onclick="showTab('sim')">üöó –°–∏–º—É–ª—è—Ü–∏—è</button>
    <button class="tab" onclick="showTab('theory')">üìñ –¢–µ–æ—Ä–∏—è</button>
    <button class="tab" onclick="showTab('tasks')">‚úèÔ∏è –¢–∞–ø—Å—ã—Ä–º–∞–ª–∞—Ä</button>
  </div>

  <!-- SIMULATION -->
  <div class="section active" id="tab-sim">

    <div class="panel">
      <div class="panel-title">–ü–∞—Ä–∞–º–µ—Ç—Ä–ª–µ—Ä–¥—ñ –æ—Ä–Ω–∞—Ç—É</div>

      <div id="modeIndicator" class="mode-indicator">üü¢ –ë–Ü–†“ö–ê–õ–´–ü–¢–´ “ö–û–ó“í–ê–õ–´–° ‚Äî “Ø–¥–µ—É = 0</div>

      <div class="controls">
        <div class="control-group">
          <label>–ë–∞—Å—Ç–∞–ø“õ—ã –∂—ã–ª–¥–∞–º–¥—ã“õ (v‚ÇÄ)</label>
          <div class="slider-row">
            <input type="range" id="v0Slider" min="0" max="20" value="5" step="0.5" oninput="updateParams()">
            <span class="val-display sv-v" id="v0Val">5.0 –º/—Å</span>
          </div>
        </div>
        <div class="control-group">
          <label>“Æ–¥–µ—É (a)</label>
          <div class="slider-row">
            <input type="range" id="aSlider" min="-5" max="5" value="0" step="0.5" oninput="updateParams()">
            <span class="val-display sv-a" id="aVal">0.0 –º/—Å¬≤</span>
          </div>
        </div>
        <div class="control-group">
          <label>–ë–∞—Å—Ç–∞–ø“õ—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ (x‚ÇÄ)</label>
          <div class="slider-row">
            <input type="range" id="x0Slider" min="0" max="50" value="0" step="1" oninput="updateParams()">
            <span class="val-display sv-x" id="x0Val">0 –º</span>
          </div>
        </div>
        <div class="control-group">
          <label>–°–∏–º—É–ª—è—Ü–∏—è —É–∞“õ—ã—Ç—ã</label>
          <div class="slider-row">
            <input type="range" id="tSlider" min="5" max="20" value="10" step="1" oninput="updateParams()">
            <span class="val-display" id="tVal">10 —Å</span>
          </div>
        </div>
      </div>

      <div class="btn-row">
        <button class="btn" onclick="startSim()">‚ñ∂ –Ü–°–ö–ï “ö–û–°–£</button>
        <button class="btn stop" onclick="pauseSim()">‚è∏ –¢–û“ö–¢–ê–¢–£</button>
        <button class="btn reset" onclick="resetSim()">‚Ü∫ “ö–ê–õ–ü–´–ù–ê</button>
      </div>

      <div class="progress-bar">
        <div class="progress-fill" id="progressFill" style="width:0%"></div>
      </div>

      <div class="track-container">
        <div class="track" id="track">
          <div class="track-road"></div>
          <div class="car" id="car">
            <div class="car-top"></div>
            <div class="car-body"></div>
            <div class="wheel wheel-f"></div>
            <div class="wheel wheel-b"></div>
          </div>
          <div class="track-marks">
            <span id="m0">0</span>
            <span id="m1"></span>
            <span id="m2"></span>
            <span id="m3"></span>
            <span id="m4"></span>
          </div>
        </div>
      </div>

      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-label">–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ x</div>
          <div class="stat-value sv-x" id="statX">0.0</div>
          <div class="stat-unit">–º–µ—Ç—Ä</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">–ñ—ã–ª–¥–∞–º–¥—ã“õ v</div>
          <div class="stat-value sv-v" id="statV">5.0</div>
          <div class="stat-unit">–º/—Å</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">–£–∞“õ—ã—Ç t</div>
          <div class="stat-value" id="statT">0.0</div>
          <div class="stat-unit">—Å–µ–∫—É–Ω–¥</div>
        </div>
      </div>
    </div>

    <!-- Graphs -->
    <div class="panel">
      <div class="panel-title">–ì—Ä–∞—Ñ–∏–∫—Ç–µ—Ä</div>

      <div class="graph-legend">
        <div class="legend-item"><div class="legend-dot" style="background:#00d4ff"></div>x(t) ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞</div>
        <div class="legend-item"><div class="legend-dot" style="background:#7fff00"></div>v(t) ‚Äî –∂—ã–ª–¥–∞–º–¥—ã“õ</div>
        <div class="legend-item"><div class="legend-dot" style="background:#ff6b35"></div>a(t) ‚Äî “Ø–¥–µ—É</div>
      </div>

      <div class="graph-wrap">
        <div class="graph-label">x(t) ‚Äî –ö–û–û–†–î–ò–ù–ê–¢–ê –ì–†–ê–§–ò–ì–Ü</div>
        <canvas id="xGraph" height="140"></canvas>
      </div>

      <div class="graph-wrap">
        <div class="graph-label">v(t) ‚Äî –ñ–´–õ–î–ê–ú–î–´“ö –ì–†–ê–§–ò–ì–Ü</div>
        <canvas id="vGraph" height="120"></canvas>
      </div>

      <div class="graph-wrap">
        <div class="graph-label">a(t) ‚Äî “Æ–î–ï–£ –ì–†–ê–§–ò–ì–Ü</div>
        <canvas id="aGraph" height="80"></canvas>
      </div>
    </div>

  </div>

  <!-- THEORY -->
  <div class="section" id="tab-theory">

    <div class="panel">
      <div class="panel-title">–¢–µ–æ—Ä–∏—è–ª—ã“õ –Ω–µ–≥—ñ–∑–¥–µ—Ä</div>

      <div class="theory-card">
        <h3>üìä x(t) ‚Äî –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –≥—Ä–∞—Ñ–∏–≥—ñ</h3>
        <p>–ë“±–ª –≥—Ä–∞—Ñ–∏–∫ –¥–µ–Ω–µ–Ω—ñ“£ <strong style="color:var(--accent)">“õ–∞–π –∂–µ—Ä–¥–µ</strong> –æ—Ä–Ω–∞–ª–∞—Å“õ–∞–Ω—ã–Ω —É–∞“õ—ã—Ç“õ–∞ “õ–∞—Ä–∞–π –∫”©—Ä—Å–µ—Ç–µ–¥—ñ.</p>
        <div class="key-point"><span class="dot"></span><span>–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å —Ç“Ø–∑—É ‚Üí –¥–µ–Ω–µ —Ç—ã–Ω—ã—à—Ç—ã“õ—Ç–∞ (“õ–æ–∑“ì–∞–ª–º–∞–π–¥—ã)</span></div>
        <div class="key-point"><span class="dot"></span><span>–ö”©–ª–±–µ—É —Ç“Ø–∑—É ‚Üí –±—ñ—Ä“õ–∞–ª—ã–ø—Ç—ã “õ–æ–∑“ì–∞–ª—ã—Å (v = —Ç“±—Ä–∞“õ—Ç—ã)</span></div>
        <div class="key-point"><span class="dot"></span><span>–ü–∞—Ä–∞–±–æ–ª–∞ ‚Üí “Ø–¥–µ–º–µ–ª—ñ “õ–æ–∑“ì–∞–ª—ã—Å (a ‚â† 0)</span></div>
        <div class="key-point"><span class="dot"></span><span>–¢“Ø–∑—É–¥—ñ“£ –µ“£—ñ—Å –±“±—Ä—ã—à—ã = –∂—ã–ª–¥–∞–º–¥—ã“õ: <strong style="color:var(--accent)">v = Œîx/Œît</strong></span></div>
        <div class="formula-box">x = x‚ÇÄ + v‚ÇÄ¬∑t + a¬∑t¬≤/2</div>
      </div>

      <div class="theory-card" style="border-color:var(--accent3)">
        <h3 style="color:var(--accent3)">üìä v(t) ‚Äî –ñ—ã–ª–¥–∞–º–¥—ã“õ –≥—Ä–∞—Ñ–∏–≥—ñ</h3>
        <p>–ë“±–ª –≥—Ä–∞—Ñ–∏–∫ –¥–µ–Ω–µ–Ω—ñ“£ <strong style="color:var(--accent3)">“õ–∞–Ω—à–∞–ª—ã“õ—Ç—ã –∂—ã–ª–¥–∞–º</strong> “õ–æ–∑“ì–∞–ª–∞—Ç—ã–Ω—ã–Ω –∫”©—Ä—Å–µ—Ç–µ–¥—ñ.</p>
        <div class="key-point"><span class="dot" style="background:var(--accent3)"></span><span>–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å —Ç“Ø–∑—É ‚Üí a = 0, –±—ñ—Ä“õ–∞–ª—ã–ø—Ç—ã “õ–æ–∑“ì–∞–ª—ã—Å</span></div>
        <div class="key-point"><span class="dot" style="background:var(--accent3)"></span><span>–ñ–æ“ì–∞—Ä—ã “õ–∞—Ä–∞–π ‚Üí –æ“£ “Ø–¥–µ—É (–∂—ã–ª–¥–∞–º–¥–∞–π–¥—ã)</span></div>
        <div class="key-point"><span class="dot" style="background:var(--accent3)"></span><span>–¢”©–º–µ–Ω “õ–∞—Ä–∞–π ‚Üí —Ç–µ—Ä—ñ—Å “Ø–¥–µ—É (–±–∞—è—É–ª–∞–π–¥—ã)</span></div>
        <div class="key-point"><span class="dot" style="background:var(--accent3)"></span><span>–ì—Ä–∞—Ñ–∏–∫ –∞—Å—Ç—ã–Ω–¥–∞“ì—ã –∞—É–¥–∞–Ω = –æ—Ä—ã–Ω –∞—É—ã—Å—Ç—ã—Ä—É (S)</span></div>
        <div class="formula-box" style="border-color:rgba(127,255,0,0.3);color:var(--accent3)">v = v‚ÇÄ + a¬∑t</div>
      </div>

      <div class="theory-card" style="border-color:var(--accent2)">
        <h3 style="color:var(--accent2)">üìä a(t) ‚Äî “Æ–¥–µ—É –≥—Ä–∞—Ñ–∏–≥—ñ</h3>
        <p>–ë“±–ª –≥—Ä–∞—Ñ–∏–∫ –∂—ã–ª–¥–∞–º–¥—ã“õ—Ç—ã“£ <strong style="color:var(--accent2)">“õ–∞–Ω—à–∞–ª—ã“õ—Ç—ã ”©–∑–≥–µ—Ä–µ—Ç—ñ–Ω—ñ–Ω</strong> –∫”©—Ä—Å–µ—Ç–µ–¥—ñ.</p>
        <div class="key-point"><span class="dot" style="background:var(--accent2)"></span><span>a = 0 ‚Üí –±—ñ—Ä“õ–∞–ª—ã–ø—Ç—ã “õ–æ–∑“ì–∞–ª—ã—Å (v ”©–∑–≥–µ—Ä–º–µ–π–¥—ñ)</span></div>
        <div class="key-point"><span class="dot" style="background:var(--accent2)"></span><span>a > 0 ‚Üí –∂—ã–ª–¥–∞–º–¥—ã“õ ”©—Å–µ–¥—ñ</span></div>
        <div class="key-point"><span class="dot" style="background:var(--accent2)"></span><span>a &lt; 0 ‚Üí –∂—ã–ª–¥–∞–º–¥—ã“õ –∫–µ–º–∏–¥—ñ (—Ç–µ–∂–µ–ª—É)</span></div>
        <div class="key-point"><span class="dot" style="background:var(--accent2)"></span><span>–ï“£—ñ—Å –±“±—Ä—ã—à—ã = a: <strong style="color:var(--accent2)">a = Œîv/Œît</strong></span></div>
        <div class="formula-box" style="border-color:rgba(255,107,53,0.3);color:var(--accent2)">a = (v - v‚ÇÄ) / t</div>
      </div>

      <div class="panel" style="background:rgba(0,212,255,0.04)">
        <div class="panel-title">–ì—Ä–∞—Ñ–∏–∫—Ç–µ—Ä –∞—Ä–∞—Å—ã–Ω–¥–∞“ì—ã –±–∞–π–ª–∞–Ω—ã—Å</div>
        <div style="font-size:0.82rem;line-height:1.9">
          <p>üîó <strong style="color:var(--accent)">x(t)</strong> –≥—Ä–∞—Ñ–∏–≥—ñ–Ω—ñ“£ –µ“£—ñ—Å—ñ ‚Üí <strong style="color:var(--accent3)">v(t)</strong> –º”ô–Ω—ñ–Ω –±–µ—Ä–µ–¥—ñ</p>
          <p>üîó <strong style="color:var(--accent3)">v(t)</strong> –≥—Ä–∞—Ñ–∏–≥—ñ–Ω—ñ“£ –µ“£—ñ—Å—ñ ‚Üí <strong style="color:var(--accent2)">a(t)</strong> –º”ô–Ω—ñ–Ω –±–µ—Ä–µ–¥—ñ</p>
          <p>üîó <strong style="color:var(--accent3)">v(t)</strong> –∞—Å—Ç—ã–Ω–¥–∞“ì—ã –∞—É–¥–∞–Ω ‚Üí –æ—Ä—ã–Ω –∞—É—ã—Å—Ç—ã—Ä—É <strong style="color:var(--accent)">S</strong></p>
          <p>üîó <strong style="color:var(--accent2)">a(t)</strong> –∞—Å—Ç—ã–Ω–¥–∞“ì—ã –∞—É–¥–∞–Ω ‚Üí –∂—ã–ª–¥–∞–º–¥—ã“õ—Ç—ã“£ ”©–∑–≥–µ—Ä—ñ—Å—ñ <strong style="color:var(--accent3)">Œîv</strong></p>
        </div>
      </div>
    </div>

  </div>

  <!-- TASKS -->
  <div class="section" id="tab-tasks">

    <div class="panel">
      <div class="panel-title">–¢–∞–ø—Å—ã—Ä–º–∞–ª–∞—Ä</div>

      <!-- Task 1 -->
      <div class="task-card">
        <div class="task-header">
          <span class="task-num">–¢–ê–ü–°–´–†–ú–ê ‚Ññ1</span>
          <span class="difficulty easy">–û“¢–ê–ô</span>
        </div>
        <div class="task-text">
          –í–µ–ª–æ—Å–∏–ø–µ–¥—à—ñ —Ç—ã–Ω—ã—à—Ç—ã“õ—Ç–∞–Ω “õ–æ–∑“ì–∞–ª–∞ –±–∞—Å—Ç–∞–π–¥—ã. <strong>8 —Å–µ–∫—É–Ω–¥</strong> —ñ—à—ñ–Ω–¥–µ –∂—ã–ª–¥–∞–º–¥—ã“ì—ã <strong>16 –º/—Å</strong>-“õ–∞ –∂–µ—Ç–µ–¥—ñ.
        </div>
        <div class="task-questions">–¢–∞–±—ã“£—ã–∑:
          <li>–î–µ–Ω–µ–Ω—ñ“£ “Ø–¥–µ—É—ñ–Ω (a)</li>
          <li>8 —Å–µ–∫—É–Ω–¥—Ç–∞“ì—ã ”©—Ç–∫–µ–Ω –∂–æ–ª–¥—ã (S)</li>
          <li>v(t) –≥—Ä–∞—Ñ–∏–≥—ñ–Ω —Å–∏–ø–∞—Ç—Ç–∞“£—ã–∑ ‚Äî “õ–∞–Ω–¥–∞–π —Å—ã–∑—ã“õ –±–æ–ª–∞–¥—ã?</li>
        </div>
        <button class="answer-toggle" onclick="toggleAnswer(this)">üí° –ñ–∞—É–∞–ø—Ç—ã –∫”©—Ä—É</button>
        <div class="answer-box">
          <strong>1) “Æ–¥–µ—É:</strong> a = Œîv/Œît = (16 - 0)/8 = <strong>2 –º/—Å¬≤</strong><br><br>
          <strong>2) –ñ–æ–ª (v(t) –∞—Å—Ç—ã–Ω–¥–∞“ì—ã —Ç—Ä–∞–ø–µ—Ü–∏—è):</strong><br>
          S = ¬Ω ¬∑ (v‚ÇÄ + v) ¬∑ t = ¬Ω ¬∑ (0 + 16) ¬∑ 8 = <strong>64 –º–µ—Ç—Ä</strong><br>
          –Ω–µ–º–µ—Å–µ: S = v‚ÇÄt + ¬Ωat¬≤ = 0 + ¬Ω¬∑2¬∑64 = 64 –º ‚úì<br><br>
          <strong>3) v(t) –≥—Ä–∞—Ñ–∏–≥—ñ:</strong> (0;0) –Ω“Ø–∫—Ç–µ—Å—ñ–Ω–µ–Ω (8;16) –Ω“Ø–∫—Ç–µ—Å—ñ–Ω–µ –¥–µ–π—ñ–Ω <strong>–∂–æ“ì–∞—Ä—ã “õ–∞—Ä–∞–π –∫–µ—Ç–∫–µ–Ω —Ç“Ø–∑—É —Å—ã–∑—ã“õ</strong> –±–æ–ª–∞–¥—ã (a > 0 —Å–µ–±–µ–±—ñ).
        </div>
      </div>

      <!-- Task 2 -->
      <div class="task-card">
        <div class="task-header">
          <span class="task-num">–¢–ê–ü–°–´–†–ú–ê ‚Ññ2</span>
          <span class="difficulty easy">–û“¢–ê–ô</span>
        </div>
        <div class="task-text">
          x(t) –≥—Ä–∞—Ñ–∏–≥—ñ –±–æ–π—ã–Ω—à–∞: –¥–µ–Ω–µ <strong>t = 0 —Å</strong>-—Ç–∞ x = 20 –º –∂–µ—Ä–¥–µ, <strong>t = 5 —Å</strong>-—Ç–∞ x = 20 –º –∂–µ—Ä–¥–µ —Ç“±—Ä.
        </div>
        <div class="task-questions">–ê–Ω—ã“õ—Ç–∞“£—ã–∑:
          <li>–î–µ–Ω–µ “õ–æ–∑“ì–∞–ª–∞ –º–∞?</li>
          <li>–ñ—ã–ª–¥–∞–º–¥—ã“õ—Ç—ã –µ—Å–µ–ø—Ç–µ“£—ñ–∑</li>
          <li>v(t) –∂”ô–Ω–µ a(t) –≥—Ä–∞—Ñ–∏–∫—Ç–µ—Ä—ñ “õ–∞–Ω–¥–∞–π –±–æ–ª–∞–¥—ã?</li>
        </div>
        <button class="answer-toggle" onclick="toggleAnswer(this)">üí° –ñ–∞—É–∞–ø—Ç—ã –∫”©—Ä—É</button>
        <div class="answer-box">
          <strong>1)</strong> x ”©–∑–≥–µ—Ä–º–µ–≥–µ–Ω ‚Üí –¥–µ–Ω–µ <strong>“õ–æ–∑“ì–∞–ª–º–∞–π–¥—ã</strong> (—Ç—ã–Ω—ã—à—Ç—ã“õ—Ç–∞)<br><br>
          <strong>2) –ñ—ã–ª–¥–∞–º–¥—ã“õ:</strong> v = Œîx/Œît = (20 - 20)/5 = <strong>0 –º/—Å</strong><br><br>
          <strong>3) –ì—Ä–∞—Ñ–∏–∫—Ç–µ—Ä:</strong><br>
          ‚Ä¢ x(t) ‚Äî <strong>–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å —Ç“Ø–∑—É</strong> (x = 20 –º –¥–µ“£–≥–µ–π—ñ–Ω–¥–µ)<br>
          ‚Ä¢ v(t) ‚Äî <strong>t-–æ—Å—ñ–º–µ–Ω —Å”ô–π–∫–µ—Å –∫–µ–ª–µ—Ç—ñ–Ω –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å</strong> (v = 0)<br>
          ‚Ä¢ a(t) ‚Äî <strong>–Ω”©–ª–¥—ñ–∫</strong> (a = 0)
        </div>
      </div>

      <!-- Task 3 -->
      <div class="task-card">
        <div class="task-header">
          <span class="task-num">–¢–ê–ü–°–´–†–ú–ê ‚Ññ3</span>
          <span class="difficulty med">–û–†–¢–ê–®–ê</span>
        </div>
        <div class="task-text">
          –ü–æ–µ–∑–¥ <strong>v‚ÇÄ = 30 –º/—Å</strong> –∂—ã–ª–¥–∞–º–¥—ã“õ–ø–µ–Ω –∫–µ–ª–µ–¥—ñ –¥–µ, <strong>a = -1.5 –º/—Å¬≤</strong> “Ø–¥–µ—É–º–µ–Ω —Ç–µ–∂–µ–ª–µ –±–∞—Å—Ç–∞–π–¥—ã.
        </div>
        <div class="task-questions">–ï—Å–µ–ø—Ç–µ“£—ñ–∑:
          <li>–ü–æ–µ–∑–¥ “õ–∞–Ω—à–∞ —Å–µ–∫—É–Ω–¥—Ç–∞ —Ç–æ“õ—Ç–∞–π–¥—ã?</li>
          <li>–¢–æ“õ—Ç–∞“ì–∞–Ω“ì–∞ –¥–µ–π—ñ–Ω “õ–∞–Ω—à–∞ –º–µ—Ç—Ä –∂“Ø—Ä–µ–¥—ñ?</li>
          <li>x(t) –≥—Ä–∞—Ñ–∏–≥—ñ “õ–∞–Ω–¥–∞–π –±–æ–ª–∞–¥—ã ‚Äî —Ç“Ø–∑—É –º–µ, –ø–∞—Ä–∞–±–æ–ª–∞ –º–∞?</li>
        </div>
        <button class="answer-toggle" onclick="toggleAnswer(this)">üí° –ñ–∞—É–∞–ø—Ç—ã –∫”©—Ä—É</button>
        <div class="answer-box">
          <strong>1) –¢–æ“õ—Ç–∞—É —É–∞“õ—ã—Ç—ã:</strong><br>
          v = v‚ÇÄ + at ‚Üí 0 = 30 + (-1.5)¬∑t ‚Üí t = 30/1.5 = <strong>20 —Å–µ–∫—É–Ω–¥</strong><br><br>
          <strong>2) –ñ–æ–ª:</strong><br>
          S = v‚ÇÄt + ¬Ωat¬≤ = 30¬∑20 + ¬Ω¬∑(-1.5)¬∑400 = 600 - 300 = <strong>300 –º–µ—Ç—Ä</strong><br>
          –Ω–µ–º–µ—Å–µ: S = (v¬≤ - v‚ÇÄ¬≤)/(2a) = (0 - 900)/(-3) = 300 –º ‚úì<br><br>
          <strong>3) x(t) –≥—Ä–∞—Ñ–∏–≥—ñ:</strong> <strong>–ü–∞—Ä–∞–±–æ–ª–∞</strong> ‚Äî —Å–µ–±–µ–±—ñ a ‚â† 0. –ü–∞—Ä–∞–±–æ–ª–∞ –∂–æ“ì–∞—Ä—ã “õ–∞—Ä–∞–π –∞—à—ã–ª–º–∞–π–¥—ã, –º–∞–∫—Å–∏–º—É–º“ì–∞ –∂–µ—Ç—ñ–ø —Ç–æ“õ—Ç–∞–π–¥—ã (a —Ç–µ—Ä—ñ—Å –±–æ–ª“ì–∞–Ω–¥—ã“õ—Ç–∞–Ω).
        </div>
      </div>

      <!-- Task 4 -->
      <div class="task-card">
        <div class="task-header">
          <span class="task-num">–¢–ê–ü–°–´–†–ú–ê ‚Ññ4</span>
          <span class="difficulty hard">“ö–ò–´–ù</span>
        </div>
        <div class="task-text">
          –ê–≤—Ç–æ–º–æ–±–∏–ª—å 3 –∫–µ–∑–µ“£–Ω–µ–Ω —Ç“±—Ä–∞—Ç—ã–Ω –∂–æ–ª –∂“Ø—Ä–µ–¥—ñ:<br>
          ‚Ä¢ <strong>0‚Äì5 —Å:</strong> —Ç—ã–Ω—ã—à—Ç—ã“õ—Ç–∞–Ω 20 –º/—Å-“õ–∞ –¥–µ–π—ñ–Ω “Ø–¥–µ–π–¥—ñ<br>
          ‚Ä¢ <strong>5‚Äì12 —Å:</strong> 20 –º/—Å –±—ñ—Ä“õ–∞–ª—ã–ø—Ç—ã –∂—ã–ª–¥–∞–º–¥—ã“õ–ø–µ–Ω –∂“Ø—Ä–µ–¥—ñ<br>
          ‚Ä¢ <strong>12‚Äì17 —Å:</strong> 20 –º/—Å-—Ç–∞–Ω —Ç–æ“õ—Ç–∞–ø “õ–∞–ª“ì–∞–Ω—à–∞ —Ç–µ–∂–µ–ª–µ–¥—ñ
        </div>
        <div class="task-questions">–ï—Å–µ–ø—Ç–µ“£—ñ–∑:
          <li>”ò—Ä –∫–µ–∑–µ“£–¥–µ–≥—ñ “Ø–¥–µ—É–¥—ñ</li>
          <li>”ò—Ä –∫–µ–∑–µ“£–¥–µ–≥—ñ –∂–æ–ª–¥—ã –∂”ô–Ω–µ –∂–∞–ª–ø—ã –∂–æ–ª–¥—ã</li>
          <li>v(t) –≥—Ä–∞—Ñ–∏–≥—ñ–Ω —Ç–æ–ª—ã“õ —Å–∏–ø–∞—Ç—Ç–∞“£—ã–∑</li>
          <li>17 —Å–µ–∫—É–Ω–¥—Ç–∞“ì—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–Ω—ã (x‚ÇÄ = 0 –¥–µ–ø –∞–ª—ã“£—ã–∑)</li>
        </div>
        <button class="answer-toggle" onclick="toggleAnswer(this)">üí° –ñ–∞—É–∞–ø—Ç—ã –∫”©—Ä—É</button>
        <div class="answer-box">
          <strong>1) “Æ–¥–µ—É–ª–µ—Ä:</strong><br>
          ‚Ä¢ a‚ÇÅ = (20-0)/5 = <strong>+4 –º/—Å¬≤</strong><br>
          ‚Ä¢ a‚ÇÇ = 0/7 = <strong>0 –º/—Å¬≤</strong><br>
          ‚Ä¢ a‚ÇÉ = (0-20)/5 = <strong>-4 –º/—Å¬≤</strong><br><br>
          <strong>2) –ñ–æ–ª–¥–∞—Ä:</strong><br>
          ‚Ä¢ S‚ÇÅ = ¬Ω¬∑20¬∑5 = <strong>50 –º</strong><br>
          ‚Ä¢ S‚ÇÇ = 20¬∑7 = <strong>140 –º</strong><br>
          ‚Ä¢ S‚ÇÉ = ¬Ω¬∑20¬∑5 = <strong>50 –º</strong><br>
          ‚Ä¢ S<sub>–∂–∞–ª–ø—ã</sub> = 50+140+50 = <strong>240 –º–µ—Ç—Ä</strong><br><br>
          <strong>3) v(t) –≥—Ä–∞—Ñ–∏–≥—ñ:</strong> –¢—Ä–∞–ø–µ—Ü–∏—è —Ç”ô—Ä—ñ–∑–¥—ñ ‚Äî –∞–ª–¥—ã–º–µ–Ω –∂–æ“ì–∞—Ä—ã (0‚Üí20), –∫–µ–π—ñ–Ω –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å (20), —Å–æ“£—ã–Ω–¥–∞ —Ç”©–º–µ–Ω (20‚Üí0).<br><br>
          <strong>4) –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞:</strong> x = x‚ÇÄ + S = 0 + 240 = <strong>240 –º</strong>
        </div>
      </div>

    </div>
  </div>

</div>

<script>
// ===================== SIMULATION ENGINE =====================
let animId = null;
let running = false;
let startTime = null;
let simDuration = 10;
let v0 = 5, a = 0, x0 = 0;
let maxX = 100;

// Data arrays for graphs
let dataX = [], dataV = [], dataT = [];

function updateParams() {
  v0 = parseFloat(document.getElementById('v0Slider').value);
  a = parseFloat(document.getElementById('aSlider').value);
  x0 = parseFloat(document.getElementById('x0Slider').value);
  simDuration = parseFloat(document.getElementById('tSlider').value);

  document.getElementById('v0Val').textContent = v0.toFixed(1) + ' –º/—Å';
  document.getElementById('aVal').textContent = a.toFixed(1) + ' –º/—Å¬≤';
  document.getElementById('x0Val').textContent = x0.toFixed(0) + ' –º';
  document.getElementById('tVal').textContent = simDuration.toFixed(0) + ' —Å';

  // Update mode indicator
  const ind = document.getElementById('modeIndicator');
  if (Math.abs(a) < 0.01) {
    ind.textContent = 'üü¢ –ë–Ü–†“ö–ê–õ–´–ü–¢–´ “ö–û–ó“í–ê–õ–´–° ‚Äî “Ø–¥–µ—É = 0, v(t) –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å —Ç“Ø–∑—É';
    ind.style.color = '#7fff00';
    ind.style.background = 'rgba(127,255,0,0.08)';
  } else if (a > 0) {
    ind.textContent = 'üü° “Æ–î–ï–ú–ï–õ–Ü “ö–û–ó“í–ê–õ–´–° ‚Äî –∂—ã–ª–¥–∞–º–¥—ã“õ ”©—Å–µ–¥—ñ, x(t) –ø–∞—Ä–∞–±–æ–ª–∞';
    ind.style.color = '#ffd400';
    ind.style.background = 'rgba(255,212,0,0.08)';
  } else {
    ind.textContent = 'üî¥ –¢–ï–ñ–ï–õ–£ ‚Äî –∂—ã–ª–¥–∞–º–¥—ã“õ –∫–µ–º–∏–¥—ñ, a < 0';
    ind.style.color = '#ff6b35';
    ind.style.background = 'rgba(255,107,53,0.08)';
  }

  // Precompute max x for track marks
  computeMaxX();
  updateTrackMarks();

  if (!running) {
    updateDisplay(0);
    drawGraphs([],[],[]);
  }
}

function computeMaxX() {
  let tStop = simDuration;
  if (a < 0 && v0 > 0) {
    let tZero = -v0/a;
    if (tZero < simDuration) tStop = tZero;
  }
  let xMax = x0 + v0*tStop + 0.5*a*tStop*tStop;
  let xMin = x0;
  // also check t=0
  maxX = Math.max(Math.abs(xMax), Math.abs(xMin), x0+1) * 1.15;
  maxX = Math.max(maxX, 20);
}

function updateTrackMarks() {
  const step = Math.round(maxX/4);
  for (let i=0;i<5;i++) {
    const el = document.getElementById('m'+i);
    if(el) el.textContent = (step*i) + ' –º';
  }
}

function xToPercent(x) {
  return Math.max(0, Math.min(95, (x / maxX) * 95));
}

function calcX(t) { return x0 + v0*t + 0.5*a*t*t; }
function calcV(t) { return v0 + a*t; }

function updateDisplay(t) {
  const cx = calcX(t);
  const cv = calcV(t);

  document.getElementById('statX').textContent = cx.toFixed(1);
  document.getElementById('statV').textContent = cv.toFixed(2);
  document.getElementById('statT').textContent = t.toFixed(1);

  const pct = xToPercent(cx);
  document.getElementById('car').style.left = pct + '%';

  const progress = Math.min(100, (t/simDuration)*100);
  document.getElementById('progressFill').style.width = progress + '%';
}

function startSim() {
  if (running) return;
  resetData();
  running = true;
  startTime = performance.now();
  animate();
}

function resetData() {
  dataX = []; dataV = []; dataT = [];
}

function animate() {
  if (!running) return;
  const elapsed = (performance.now() - startTime) / 1000;
  const t = Math.min(elapsed, simDuration);

  let cv = calcV(t);
  // Stop if velocity hits 0 when decelerating
  let actualT = t;
  if (a < 0 && cv <= 0) {
    actualT = -v0/a;
    running = false;
  }

  const cx = calcX(actualT);
  const acv = v0 + a*actualT;

  dataT.push(actualT);
  dataX.push(cx);
  dataV.push(acv);

  updateDisplay(actualT);
  drawGraphs(dataT, dataX, dataV);

  if (t >= simDuration || !running) {
    running = false;
    return;
  }

  animId = requestAnimationFrame(animate);
}

function pauseSim() {
  running = false;
  if (animId) cancelAnimationFrame(animId);
}

function resetSim() {
  pauseSim();
  resetData();
  updateDisplay(0);
  drawGraphs([],[],[]);
  document.getElementById('progressFill').style.width = '0%';
  document.getElementById('car').style.left = xToPercent(x0) + '%';
}

// ===================== GRAPH DRAWING =====================
function drawGraphs(ts, xs, vs) {
  drawXGraph(ts, xs);
  drawVGraph(ts, vs);
  drawAGraph(ts);
}

function initCanvas(id) {
  const canvas = document.getElementById(id);
  const rect = canvas.parentElement.getBoundingClientRect();
  canvas.width = Math.floor(rect.width) || 600;
  return { canvas, ctx: canvas.getContext('2d'), W: canvas.width, H: canvas.height };
}

function drawAxes(ctx, W, H, pad, color='#1a2a4a') {
  ctx.strokeStyle = color;
  ctx.lineWidth = 1;
  // Grid
  ctx.strokeStyle = 'rgba(26,42,74,0.5)';
  for (let i=1;i<4;i++) {
    ctx.beginPath();
    ctx.moveTo(pad, pad + (H-2*pad)*i/4);
    ctx.lineTo(W-pad, pad + (H-2*pad)*i/4);
    ctx.stroke();
  }
  // Axes
  ctx.strokeStyle = '#2a3a5a';
  ctx.lineWidth = 1.5;
  ctx.beginPath();
  ctx.moveTo(pad, pad); ctx.lineTo(pad, H-pad);
  ctx.moveTo(pad, H-pad); ctx.lineTo(W-pad, H-pad);
  ctx.stroke();
}

function drawXGraph(ts, xs) {
  const {canvas,ctx,W,H} = initCanvas('xGraph');
  ctx.clearRect(0,0,W,H);
  const pad = 36;

  drawAxes(ctx, W, H, pad);

  // Labels
  ctx.fillStyle = '#4a6080';
  ctx.font = '10px Orbitron';
  ctx.fillText('x(–º)', 2, pad-4);
  ctx.fillText('t(—Å)', W-pad+4, H-pad+4);

  if (ts.length < 2) {
    // Draw preview curve
    const steps = 60;
    ctx.strokeStyle = 'rgba(0,212,255,0.3)';
    ctx.lineWidth = 2;
    ctx.setLineDash([4,4]);
    ctx.beginPath();
    const xVals = [], tVals = [];
    for(let i=0;i<=steps;i++) {
      const t = (i/steps)*simDuration;
      let cv = v0+a*t;
      if(a<0 && cv<0) break;
      tVals.push(t); xVals.push(calcX(t));
    }
    if(tVals.length>0) {
      const xMin2 = Math.min(...xVals), xMax2 = Math.max(...xVals);
      const xRange = xMax2 - xMin2 || 1;
      for(let i=0;i<tVals.length;i++) {
        const px = pad + (tVals[i]/simDuration)*(W-2*pad);
        const py = H-pad - ((xVals[i]-xMin2)/xRange)*(H-2*pad)*0.85 - (H-2*pad)*0.05;
        i===0 ? ctx.moveTo(px,py) : ctx.lineTo(px,py);
      }
      ctx.stroke();
    }
    ctx.setLineDash([]);
    return;
  }

  const xMin = Math.min(...xs), xMax2 = Math.max(...xs);
  const xRange = xMax2 - xMin || 1;
  const tMax = ts[ts.length-1];

  // Y axis labels
  ctx.fillStyle = '#4a6080';
  ctx.font = '9px Exo 2';
  ctx.fillText(xMax2.toFixed(0), 2, pad+4);
  ctx.fillText(xMin.toFixed(0), 2, H-pad-2);

  ctx.strokeStyle = '#00d4ff';
  ctx.lineWidth = 2.5;
  ctx.shadowColor = '#00d4ff';
  ctx.shadowBlur = 6;
  ctx.beginPath();
  for (let i=0;i<ts.length;i++) {
    const px = pad + (ts[i]/simDuration)*(W-2*pad);
    const py = H-pad - ((xs[i]-xMin)/xRange)*(H-2*pad)*0.85 - (H-2*pad)*0.05;
    i===0 ? ctx.moveTo(px,py) : ctx.lineTo(px,py);
  }
  ctx.stroke();
  ctx.shadowBlur = 0;
}

function drawVGraph(ts, vs) {
  const {canvas,ctx,W,H} = initCanvas('vGraph');
  ctx.clearRect(0,0,W,H);
  const pad = 36;

  drawAxes(ctx, W, H, pad);

  ctx.fillStyle = '#4a6080';
  ctx.font = '10px Orbitron';
  ctx.fillText('v(–º/—Å)', 2, pad-4);
  ctx.fillText('t(—Å)', W-pad+4, H-pad+4);

  // Preview
  if (ts.length < 2) {
    const steps = 60;
    ctx.strokeStyle = 'rgba(127,255,0,0.3)';
    ctx.lineWidth = 2;
    ctx.setLineDash([4,4]);
    const vVals = [], tVals = [];
    for(let i=0;i<=steps;i++) {
      const t = (i/steps)*simDuration;
      const cv = v0+a*t;
      if(a<0 && cv<0) break;
      tVals.push(t); vVals.push(cv);
    }
    const vMin2 = Math.min(...vVals,0), vMax2 = Math.max(...vVals,0.1);
    const vRange = vMax2-vMin2||1;
    ctx.beginPath();
    for(let i=0;i<tVals.length;i++) {
      const px = pad + (tVals[i]/simDuration)*(W-2*pad);
      const py = H-pad - ((vVals[i]-vMin2)/vRange)*(H-2*pad)*0.85 - (H-2*pad)*0.05;
      i===0 ? ctx.moveTo(px,py) : ctx.lineTo(px,py);
    }
    ctx.stroke();
    ctx.setLineDash([]);
    return;
  }

  const vMin = Math.min(...vs, 0), vMax2 = Math.max(...vs, 0.1);
  const vRange = vMax2-vMin||1;

  // Shade area under curve
  ctx.fillStyle = 'rgba(127,255,0,0.07)';
  ctx.beginPath();
  const zeroY = H-pad - ((0-vMin)/vRange)*(H-2*pad)*0.85 - (H-2*pad)*0.05;
  ctx.moveTo(pad, zeroY);
  for(let i=0;i<ts.length;i++) {
    const px = pad + (ts[i]/simDuration)*(W-2*pad);
    const py = H-pad - ((vs[i]-vMin)/vRange)*(H-2*pad)*0.85 - (H-2*pad)*0.05;
    ctx.lineTo(px,py);
  }
  const lastPx = pad + (ts[ts.length-1]/simDuration)*(W-2*pad);
  ctx.lineTo(lastPx, zeroY);
  ctx.closePath();
  ctx.fill();

  ctx.strokeStyle = '#7fff00';
  ctx.lineWidth = 2.5;
  ctx.shadowColor = '#7fff00';
  ctx.shadowBlur = 6;
  ctx.beginPath();
  for(let i=0;i<ts.length;i++) {
    const px = pad + (ts[i]/simDuration)*(W-2*pad);
    const py = H-pad - ((vs[i]-vMin)/vRange)*(H-2*pad)*0.85 - (H-2*pad)*0.05;
    i===0 ? ctx.moveTo(px,py) : ctx.lineTo(px,py);
  }
  ctx.stroke();
  ctx.shadowBlur = 0;

  // Axis labels
  ctx.fillStyle = '#4a6080';
  ctx.font = '9px Exo 2';
  ctx.fillText(vMax2.toFixed(1), 2, pad+4);
  ctx.fillText('0', 2, zeroY+4);
}

function drawAGraph(ts) {
  const {canvas,ctx,W,H} = initCanvas('aGraph');
  ctx.clearRect(0,0,W,H);
  const pad = 36;

  drawAxes(ctx, W, H, pad);

  ctx.fillStyle = '#4a6080';
  ctx.font = '10px Orbitron';
  ctx.fillText('a(–º/—Å¬≤)', 2, pad-4);

  const midY = H/2;

  // Zero line
  ctx.strokeStyle = 'rgba(74,96,128,0.5)';
  ctx.lineWidth = 1;
  ctx.setLineDash([3,3]);
  ctx.beginPath();
  ctx.moveTo(pad, midY); ctx.lineTo(W-pad, midY);
  ctx.stroke();
  ctx.setLineDash([]);

  // a value line
  const aY = midY - (a/10) * (H/2-pad-4);

  ctx.strokeStyle = '#ff6b35';
  ctx.lineWidth = 3;
  ctx.shadowColor = '#ff6b35';
  ctx.shadowBlur = 8;
  ctx.beginPath();
  ctx.moveTo(pad, aY);
  if (ts.length > 1) {
    ctx.lineTo(pad + (ts[ts.length-1]/simDuration)*(W-2*pad), aY);
  } else {
    ctx.lineTo(W-pad, aY);
  }
  ctx.stroke();
  ctx.shadowBlur = 0;

  ctx.fillStyle = '#ff6b35';
  ctx.font = '10px Orbitron';
  ctx.fillText('a = ' + a.toFixed(1), W-pad-60, aY-6);

  ctx.fillStyle = '#4a6080';
  ctx.font = '9px Exo 2';
  ctx.fillText('0', pad-16, midY+4);
  ctx.fillText(a.toFixed(1), 2, aY+4);
}

// ===================== TABS =====================
function showTab(id) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  document.getElementById('tab-'+id).classList.add('active');
  event.target.classList.add('active');

  if (id === 'sim') {
    setTimeout(() => { updateParams(); }, 50);
  }
}

function toggleAnswer(btn) {
  const box = btn.nextElementSibling;
  box.classList.toggle('visible');
  btn.textContent = box.classList.contains('visible') ? 'üôà –ñ–∞—Å—ã—Ä—É' : 'üí° –ñ–∞—É–∞–ø—Ç—ã –∫”©—Ä—É';
}

// Init
window.addEventListener('load', () => {
  setTimeout(() => {
    updateParams();
    drawGraphs([],[],[]);
  }, 100);
});

window.addEventListener('resize', () => {
  if (!running) drawGraphs(dataT, dataX, dataV);
});
</script>
</body>
</html>
